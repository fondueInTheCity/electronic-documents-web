function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"5r6I":function(e,t,n){"use strict";n.r(t),n.d(t,"OrganizationRolesModule",(function(){return k}));var i=n("ofXK"),r=n("tyNb"),a=n("mrSG"),o=n("lJxs"),c=n("vkgz"),s=n("5+tZ"),l=n("fXoL"),b=n("wmAJ"),u=n("fzKE"),d=n("JqCM"),p=n("3Pt+");function f(e,t){if(1&e){var n=l.Tb();l.Sb(0,"li"),l.vc(1),l.Sb(2,"span",5),l.ac("click",(function(){l.nc(n);var e=t.$implicit;return l.cc().setCurrentRename(e)})),l.vc(3,"edit"),l.Rb(),l.Sb(4,"span",6),l.ac("click",(function(){l.nc(n);var e=t.$implicit;return l.cc().setCurrent(e)})),l.vc(5,"delete"),l.Rb(),l.Rb()}if(2&e){var i=t.$implicit;l.Bb(1),l.xc(" ",i.name," ")}}function m(e,t){if(1&e){var n=l.Tb();l.Sb(0,"div",7),l.Sb(1,"div",8),l.Sb(2,"div",9),l.Sb(3,"div",10),l.Sb(4,"h5",11),l.vc(5,"Do you want approve ?"),l.Rb(),l.Rb(),l.Sb(6,"div",12),l.vc(7," Delete role. "),l.Rb(),l.Sb(8,"div",13),l.Sb(9,"button",14),l.vc(10," No "),l.Rb(),l.Sb(11,"button",15),l.ac("click",(function(){l.nc(n);var e=l.cc();return e.deleteOrganizationRole(null==e.current?null:e.current.id)})),l.vc(12," Yes "),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb()}}function v(e,t){if(1&e){var n=l.Tb();l.Sb(0,"div",16),l.Sb(1,"div",8),l.Sb(2,"div",9),l.Sb(3,"div",10),l.Sb(4,"h5",11),l.vc(5,"Do you want approve ?"),l.Rb(),l.Rb(),l.Sb(6,"div",12),l.Sb(7,"form",17),l.Sb(8,"div",18),l.Sb(9,"label"),l.vc(10," Organization Role Name "),l.Nb(11,"input",19),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(12,"div",13),l.Sb(13,"button",14),l.vc(14," Cancel "),l.Rb(),l.Sb(15,"button",15),l.ac("click",(function(){return l.nc(n),l.cc().renameOrganizationRole()})),l.vc(16," Rename "),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb()}if(2&e){var i=l.cc();l.Bb(7),l.fc("formGroup",i.renameRoleForm)}}function h(e,t){if(1&e){var n=l.Tb();l.Sb(0,"div",20),l.Sb(1,"div",8),l.Sb(2,"div",9),l.Sb(3,"div",10),l.Sb(4,"h5",11),l.vc(5,"Do you want approve ?"),l.Rb(),l.Rb(),l.Sb(6,"div",12),l.Sb(7,"form",17),l.Sb(8,"div",18),l.Sb(9,"label"),l.vc(10," Organization Role Name "),l.Nb(11,"input",21),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(12,"div",13),l.Sb(13,"button",14),l.vc(14," Cancel "),l.Rb(),l.Sb(15,"button",15),l.ac("click",(function(){return l.nc(n),l.cc().createNewRole()})),l.vc(16," Create "),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb()}if(2&e){var i=l.cc();l.Bb(7),l.fc("formGroup",i.createNewRoleForm)}}var R,g,S,w=[{path:"",component:(R=function(){function e(t,n,i,r,a){_classCallCheck(this,e),this.organizationService=t,this.properties=n,this.spinner=i,this.activatedRoute=r,this.fb=a}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadOrganizationRoles();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"loadOrganizationRoles",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.spinner.show(),this.properties.unsubscribe(this.getSubscription),this.getSubscription=this.activatedRoute.parent.parent.parent.parent.params.pipe(Object(o.a)((function(e){return e.organizationId})),Object(c.a)((function(e){return t.organizationId=e})),Object(s.a)((function(e){return t.organizationService.getOrganizationRoles(e)}))).subscribe((function(e){return Object(a.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.organizationRoles=e,this.createNewRoleForm=this.fb.group({organizationId:[this.organizationId],name:[]}),this.spinner.hide();case 1:case"end":return t.stop()}}),t,this)})))}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"deleteOrganizationRole",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.spinner.show(),this.properties.unsubscribe(this.deleteSubscription),this.deleteSubscription=this.organizationService.deleteOrganizationRole(e).subscribe((function(){return Object(a.a)(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadOrganizationRoles(),this.spinner.hide();case 1:case"end":return e.stop()}}),e,this)})))}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"renameOrganizationRole",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.spinner.show(),this.properties.unsubscribe(this.renameSubscription),this.renameSubscription=this.organizationService.renameOrganizationRole(this.renameRoleForm.value).subscribe((function(){return Object(a.a)(t,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadOrganizationRoles(),this.spinner.hide();case 1:case"end":return e.stop()}}),e,this)})))}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnDestroy",value:function(){this.properties.unsubscribe(this.getSubscription),this.properties.unsubscribe(this.createSubscription),this.properties.unsubscribe(this.deleteSubscription),this.properties.unsubscribe(this.renameSubscription)}},{key:"setCurrent",value:function(e){this.current=e}},{key:"setCurrentRename",value:function(e){this.current=e,this.renameRoleForm=this.fb.group({id:[e.id],newName:[e.name]})}},{key:"createNewRole",value:function(){var e=this;this.spinner.show(),this.properties.unsubscribe(this.createSubscription),this.createSubscription=this.organizationService.createOrganizationRole(this.createNewRoleForm.value).subscribe((function(){e.spinner.hide(),e.loadOrganizationRoles()}))}}]),e}(),R.\u0275fac=function(e){return new(e||R)(l.Mb(b.a),l.Mb(u.a),l.Mb(d.c),l.Mb(r.a),l.Mb(p.c))},R.\u0275cmp=l.Gb({type:R,selectors:[["app-organization-roles"]],decls:8,vars:4,consts:[[4,"ngFor","ngForOf"],["data-toggle","modal","data-target","#createNewRole"],["class","modal fade","id","deleteRoleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade","id","renameRoleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade","id","createNewRole","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngIf"],["data-toggle","modal","data-target","#renameRoleModal",3,"click"],["data-toggle","modal","data-target","#deleteRoleModal",3,"click"],["id","deleteRoleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","renameRoleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[3,"formGroup"],[1,"form-group"],["type","text","formControlName","newName","required","","autofocus","",1,"form-control"],["id","createNewRole","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","text","formControlName","name","required","","autofocus","",1,"form-control"]],template:function(e,t){1&e&&(l.Nb(0,"ngx-spinner"),l.Sb(1,"ol"),l.tc(2,f,6,1,"li",0),l.Rb(),l.Sb(3,"button",1),l.vc(4,"New Role"),l.Rb(),l.tc(5,m,13,0,"div",2),l.tc(6,v,17,1,"div",3),l.tc(7,h,17,1,"div",4)),2&e&&(l.Bb(2),l.fc("ngForOf",t.organizationRoles),l.Bb(3),l.fc("ngIf",t.current),l.Bb(1),l.fc("ngIf",t.renameRoleForm),l.Bb(1),l.fc("ngIf",t.createNewRoleForm))},directives:[d.a,i.i,i.j,p.s,p.k,p.g,p.a,p.j,p.e,p.n],styles:[""]}),R)}],y=((S=function e(){_classCallCheck(this,e)}).\u0275mod=l.Kb({type:S}),S.\u0275inj=l.Jb({factory:function(e){return new(e||S)},imports:[[r.e.forChild(w)],r.e]}),S),k=((g=function e(){_classCallCheck(this,e)}).\u0275mod=l.Kb({type:g}),g.\u0275inj=l.Jb({factory:function(e){return new(e||g)},imports:[[i.b,y,p.m,d.b]]}),g)}}]);