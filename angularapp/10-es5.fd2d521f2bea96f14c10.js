function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{cxbk:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={production:!0,serverUrl:"https://3e3384f3.ngrok.io"}},fzKE:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("3Pt+"),i=n("fXoL"),a=function(){var e=function(){function e(){_classCallCheck(this,e),this.USERNAME_MIN_LENGTH=4,this.FIRST_NAME_MIN_LENGTH=2,this.LAST_NAME_MIN_LENGTH=2,this.MIDDLE_NAME_MIN_LENGTH=2}return _createClass(e,[{key:"getCurrentOrganizationId",value:function(){return this.currentOrganizationId}},{key:"setCurrentOrganizationId",value:function(e){this.currentOrganizationId=+e}},{key:"unsubscribe",value:function(e){e&&!e.closed&&e.unsubscribe()}},{key:"getKeys",value:function(e){return Object.keys(e).filter((function(t){return"number"==typeof e[t]}))}},{key:"getUsernameValidators",value:function(){return[r.q.required,r.q.minLength(this.USERNAME_MIN_LENGTH),r.q.pattern(/^[a-zA-Z0-9]*$/)]}},{key:"getFirstNameValidators",value:function(){return[r.q.required,r.q.minLength(this.FIRST_NAME_MIN_LENGTH),r.q.pattern(/^[a-zA-Z]*$/)]}},{key:"getLastNameValidators",value:function(){return[r.q.required,r.q.minLength(this.LAST_NAME_MIN_LENGTH),r.q.pattern(/^[a-zA-Z]*$/)]}},{key:"getMiddleNameValidators",value:function(){return[r.q.required,r.q.minLength(this.MIDDLE_NAME_MIN_LENGTH),r.q.pattern(/^[a-zA-Z]*$/)]}},{key:"getEmailValidators",value:function(){return[r.q.required,r.q.email]}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},iX3p:function(e,t,n){"use strict";n.r(t),n.d(t,"OfferOrganizationsModule",(function(){return w}));var r=n("ofXK"),i=n("tyNb"),a=n("mrSG"),u=n("fXoL"),o=n("9mEo"),s=n("3Pt+"),c=n("fzKE"),l=n("0jaQ"),f=n("wmAJ");function b(e,t){if(1&e&&(u.Sb(0,"li"),u.vc(1),u.Rb()),2&e){var n=t.$implicit;u.Bb(1),u.xc(" ",n.ownerUsername," ")}}function d(e,t){if(1&e&&(u.Sb(0,"ul"),u.tc(1,b,2,1,"li",2),u.Rb()),2&e){var n=u.cc();u.Bb(1),u.fc("ngForOf",n.userRequests)}}function v(e,t){1&e&&(u.Sb(0,"label"),u.vc(1,"Nothing requests"),u.Rb())}function h(e,t){if(1&e){var n=u.Tb();u.Sb(0,"li"),u.Sb(1,"button",3),u.ac("click",(function(){u.nc(n);var e=t.$implicit;return u.cc(2).setCurrent(e)})),u.vc(2),u.Rb(),u.Rb()}if(2&e){var r=t.$implicit;u.Bb(2),u.xc(" ",r.ownerUsername," ")}}function g(e,t){if(1&e&&(u.Sb(0,"ul"),u.tc(1,h,3,1,"li",2),u.Rb()),2&e){var n=u.cc();u.Bb(1),u.fc("ngForOf",n.organizationRequests)}}function p(e,t){1&e&&(u.Sb(0,"label"),u.vc(1,"Nothing requests"),u.Rb())}function m(e,t){if(1&e){var n=u.Tb();u.Sb(0,"div",4),u.Sb(1,"div",5),u.Sb(2,"div",6),u.Sb(3,"div",7),u.Sb(4,"h5",8),u.vc(5,"Do you want to approve this request?"),u.Rb(),u.Rb(),u.Sb(6,"div",9),u.Sb(7,"p"),u.vc(8),u.Rb(),u.Rb(),u.Sb(9,"div",10),u.Sb(10,"button",11),u.ac("click",(function(){u.nc(n);var e=u.cc();return e.sendAnswer(!1,null==e.current?null:e.current.id)})),u.vc(11," No "),u.Rb(),u.Sb(12,"button",12),u.ac("click",(function(){u.nc(n);var e=u.cc();return e.sendAnswer(!0,null==e.current?null:e.current.id)})),u.vc(13,"Yes"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb()}if(2&e){var r=u.cc();u.Bb(8),u.xc(" ",null==r.current?null:r.current.ownerUsername," ")}}var R,y,q,S=[{path:"",component:(R=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.service=t,this.fb=n,this.utilService=r,this.tokenStorageService=i,this.organizationService=a}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRequests();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnDestroy",value:function(){this.utilService.unsubscribe(this.getSubscription)}},{key:"sendAnswer",value:function(e,t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.utilService.unsubscribe(this.answerSubscription),this.answerSubscription=this.organizationService.answerOffer({offerId:t,answer:e}).subscribe((function(){return Object(a.a)(r,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getRequests();case 1:case"end":return e.stop()}}),e,this)})))}));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"getRequests",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.utilService.unsubscribe(this.getSubscription),this.getSubscription=this.service.getOrganizationsOffers(this.tokenStorageService.getUsername()).subscribe((function(e){return Object(a.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.userRequests=e.userRequests,this.organizationRequests=e.organizationRequests;case 1:case"end":return t.stop()}}),t,this)})))}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"setCurrent",value:function(e){this.current=e}}]),e}(),R.\u0275fac=function(e){return new(e||R)(u.Mb(o.a),u.Mb(s.c),u.Mb(c.a),u.Mb(l.a),u.Mb(f.a))},R.\u0275cmp=u.Gb({type:R,selectors:[["app-offer-organizations"]],decls:9,vars:5,consts:[[4,"ngIf"],["class","modal fade","id","exampleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngIf"],[4,"ngFor","ngForOf"],["type","button","data-toggle","modal","data-target","#exampleModal",1,"btn","btn-primary",3,"click"],["id","exampleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(u.Sb(0,"label"),u.vc(1," My Requests:\n"),u.Rb(),u.tc(2,d,2,1,"ul",0),u.tc(3,v,2,0,"label",0),u.Sb(4,"label"),u.vc(5," Organization's Requests:\n"),u.Rb(),u.tc(6,g,2,1,"ul",0),u.tc(7,p,2,0,"label",0),u.tc(8,m,14,1,"div",1)),2&e&&(u.Bb(2),u.fc("ngIf",(null==t.userRequests?null:t.userRequests.length)>0),u.Bb(1),u.fc("ngIf",!t.userRequests||0==(null==t.userRequests?null:t.userRequests.length)),u.Bb(3),u.fc("ngIf",(null==t.organizationRequests?null:t.organizationRequests.length)>0),u.Bb(1),u.fc("ngIf",!t.organizationRequests||0==(null==t.organizationRequests?null:t.organizationRequests.length)),u.Bb(1),u.fc("ngIf",t.current))},directives:[r.j,r.i],styles:[""]}),R)}],k=((q=function e(){_classCallCheck(this,e)}).\u0275mod=u.Kb({type:q}),q.\u0275inj=u.Jb({factory:function(e){return new(e||q)},imports:[[i.e.forChild(S)],i.e]}),q),w=((y=function e(){_classCallCheck(this,e)}).\u0275mod=u.Kb({type:y}),y.\u0275inj=u.Jb({factory:function(e){return new(e||y)},imports:[[r.b,k,s.m]]}),y)},mrSG:function(e,t,n){"use strict";function r(e,t,n,r){return new(n||(n=Promise))((function(i,a){function u(e){try{s(r.next(e))}catch(t){a(t)}}function o(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,o)}s((r=r.apply(e,t||[])).next())}))}n.d(t,"a",(function(){return r}))}}]);