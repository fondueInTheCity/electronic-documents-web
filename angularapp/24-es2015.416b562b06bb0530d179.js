(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{Q4qn:function(i,t,e){"use strict";e.r(t),e.d(t,"OrganizationsDocumentsModule",(function(){return j}));var s=e("ofXK"),n=e("tyNb"),r=e("mrSG"),o=e("tk/3"),c=e("lJxs"),b=e("vkgz"),l=e("5+tZ"),u=e("fXoL"),a=e("wmAJ"),p=e("zB+k"),f=e("0jaQ"),d=e("fzKE"),h=e("JqCM");const g=function(i){return{width:i}};function v(i,t){if(1&i&&(u.Sb(0,"div",5),u.Sb(1,"div",6),u.vc(2),u.Rb(),u.Rb()),2&i){const i=u.cc();u.Bb(1),u.fc("ngStyle",u.ic(3,g,i.progress+"%")),u.Cb("aria-valuenow",i.progress),u.Bb(1),u.xc(" ",i.progress,"% ")}}const S=function(i){return["/documents",i]};function m(i,t){if(1&i&&(u.Sb(0,"li",12),u.Sb(1,"a",13),u.vc(2),u.Rb(),u.Rb()),2&i){const i=t.$implicit;u.Bb(1),u.fc("routerLink",u.ic(2,S,i.id)),u.Bb(1),u.wc(i.name)}}function I(i,t){if(1&i&&(u.Sb(0,"li"),u.Sb(1,"a",13),u.vc(2),u.Rb(),u.Rb()),2&i){const i=t.$implicit;u.Bb(1),u.fc("routerLink",u.ic(2,S,i.id)),u.Bb(1),u.wc(i.name)}}function R(i,t){if(1&i&&(u.Sb(0,"li"),u.Sb(1,"a",13),u.vc(2),u.Rb(),u.Rb()),2&i){const i=t.$implicit;u.Bb(1),u.fc("routerLink",u.ic(2,S,i.id)),u.Bb(1),u.wc(i.name)}}function w(i,t){if(1&i&&(u.Sb(0,"li"),u.Sb(1,"a",13),u.vc(2),u.Rb(),u.Rb()),2&i){const i=t.$implicit;u.Bb(1),u.fc("routerLink",u.ic(2,S,i.id)),u.Bb(1),u.wc(i.name)}}function F(i,t){if(1&i&&(u.Sb(0,"li"),u.Sb(1,"a",13),u.vc(2),u.Rb(),u.Rb()),2&i){const i=t.$implicit;u.Bb(1),u.fc("routerLink",u.ic(2,S,i.id)),u.Bb(1),u.wc(i.name)}}function B(i,t){if(1&i&&(u.Sb(0,"div",7),u.Sb(1,"div",8),u.Sb(2,"div",9),u.vc(3," Heap "),u.Nb(4,"br"),u.Sb(5,"ul"),u.tc(6,m,3,4,"li",10),u.Rb(),u.Rb(),u.Sb(7,"div",9),u.vc(8," Waiting "),u.Nb(9,"br"),u.Sb(10,"ul"),u.tc(11,I,3,4,"li",11),u.Rb(),u.Rb(),u.Sb(12,"div",9),u.vc(13," In Progress "),u.Nb(14,"br"),u.Sb(15,"ul"),u.tc(16,R,3,4,"li",11),u.Rb(),u.Rb(),u.Sb(17,"div",9),u.vc(18," Join To Me "),u.Nb(19,"br"),u.Sb(20,"ul"),u.tc(21,w,3,4,"li",11),u.Rb(),u.Rb(),u.Sb(22,"div",9),u.vc(23," Answered "),u.Nb(24,"br"),u.Sb(25,"ul"),u.tc(26,F,3,4,"li",11),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&i){const i=u.cc();u.Bb(6),u.fc("ngForOf",null==i.filesInfo?null:i.filesInfo.heapDocuments),u.Bb(5),u.fc("ngForOf",null==i.filesInfo?null:i.filesInfo.waitingDocuments),u.Bb(5),u.fc("ngForOf",null==i.filesInfo?null:i.filesInfo.progressDocuments),u.Bb(5),u.fc("ngForOf",null==i.filesInfo?null:i.filesInfo.joinToMeDocuments),u.Bb(5),u.fc("ngForOf",null==i.filesInfo?null:i.filesInfo.answeredDocuments)}}const y=[{path:"",component:(()=>{class i{constructor(i,t,e,s,n,r){this.organizationService=i,this.activatedRoute=t,this.documentsService=e,this.tokenStorageService=s,this.properties=n,this.spinner=r,this.uploadInProgress=!1,this.progress=0,this.message=""}ngOnInit(){return Object(r.a)(this,void 0,void 0,(function*(){this.userId=this.tokenStorageService.getId(),this.getFiles()}))}selectFile(i){this.selectedFiles=i.target.files}upload(){return Object(r.a)(this,void 0,void 0,(function*(){this.spinner.show(),this.progress=0,this.uploadInProgress=!0,this.currentFile=this.selectedFiles.item(0),this.properties.unsubscribe(this.uploadSubscription),this.uploadSubscription=this.documentsService.upload(this.currentFile,this.organizationId,this.userId).subscribe(i=>{i.type===o.d.UploadProgress?this.progress=Math.round(100*i.loaded/i.total):i instanceof o.g&&(this.progress=0,this.uploadInProgress=!1,this.spinner.hide(),this.getFiles())},i=>{this.progress=0,this.uploadInProgress=!1,this.message="Could not upload the file!",this.currentFile=void 0,this.spinner.hide()}),this.selectedFiles=void 0}))}getFiles(){return Object(r.a)(this,void 0,void 0,(function*(){this.spinner.show(),this.properties.unsubscribe(this.getFilesSubscription),this.getFilesSubscription=this.activatedRoute.parent.parent.parent.params.pipe(Object(c.a)(i=>i.organizationId),Object(b.a)(i=>this.organizationId=i),Object(l.a)(i=>this.documentsService.getMyOrganizationDocumentsInfo(i,this.userId))).subscribe(i=>{this.filesInfo=i,this.spinner.hide()})}))}ngOnDestroy(){this.properties.unsubscribe(this.changeSubscription),this.properties.unsubscribe(this.getFilesSubscription),this.properties.unsubscribe(this.uploadSubscription),this.properties.unsubscribe(this.approveDenySubscription)}}return i.\u0275fac=function(t){return new(t||i)(u.Mb(a.a),u.Mb(n.a),u.Mb(p.a),u.Mb(f.a),u.Mb(d.a),u.Mb(h.c))},i.\u0275cmp=u.Gb({type:i,selectors:[["app-organizations-documents"]],decls:8,vars:3,consts:[["class","progress",4,"ngIf"],[1,"btn","btn-default"],["type","file",3,"change"],[1,"btn","btn-success",3,"disabled","click"],["class","container",4,"ngIf"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info","progress-bar-striped",3,"ngStyle"],[1,"container"],[1,"row"],[1,"col-sm"],["class","",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,""],[3,"routerLink"]],template:function(i,t){1&i&&(u.Nb(0,"ngx-spinner"),u.Nb(1,"router-outlet"),u.tc(2,v,3,5,"div",0),u.Sb(3,"label",1),u.Sb(4,"input",2),u.ac("change",(function(i){return t.selectFile(i)})),u.Rb(),u.Rb(),u.Sb(5,"button",3),u.ac("click",(function(){return t.upload()})),u.vc(6," Upload\n"),u.Rb(),u.tc(7,B,27,5,"div",4)),2&i&&(u.Bb(2),u.fc("ngIf",t.currentFile),u.Bb(3),u.fc("disabled",!t.selectedFiles),u.Bb(2),u.fc("ngIf",t.filesInfo))},directives:[h.a,n.f,s.j,s.k,s.i,n.d],styles:["ul[_ngcontent-%COMP%]{-webkit-padding-start:0;padding-inline-start:0;list-style-type:none}"]}),i})()}];let O=(()=>{class i{}return i.\u0275mod=u.Kb({type:i}),i.\u0275inj=u.Jb({factory:function(t){return new(t||i)},imports:[[n.e.forChild(y)],n.e]}),i})();var k=e("3Pt+");let M=(()=>{class i{}return i.\u0275mod=u.Kb({type:i}),i.\u0275inj=u.Jb({factory:function(t){return new(t||i)},imports:[[s.b]]}),i})(),j=(()=>{class i{}return i.\u0275mod=u.Kb({type:i}),i.\u0275inj=u.Jb({factory:function(t){return new(t||i)},imports:[[s.b,O,k.m,M,h.b]]}),i})()}}]);