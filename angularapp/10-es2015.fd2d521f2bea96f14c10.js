(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{cxbk:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i={production:!0,serverUrl:"https://3e3384f3.ngrok.io"}},fzKE:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("3Pt+"),r=n("fXoL");let s=(()=>{class t{constructor(){this.USERNAME_MIN_LENGTH=4,this.FIRST_NAME_MIN_LENGTH=2,this.LAST_NAME_MIN_LENGTH=2,this.MIDDLE_NAME_MIN_LENGTH=2}getCurrentOrganizationId(){return this.currentOrganizationId}setCurrentOrganizationId(t){this.currentOrganizationId=+t}unsubscribe(t){t&&!t.closed&&t.unsubscribe()}getKeys(t){return Object.keys(t).filter(e=>"number"==typeof t[e])}getUsernameValidators(){return[i.q.required,i.q.minLength(this.USERNAME_MIN_LENGTH),i.q.pattern(/^[a-zA-Z0-9]*$/)]}getFirstNameValidators(){return[i.q.required,i.q.minLength(this.FIRST_NAME_MIN_LENGTH),i.q.pattern(/^[a-zA-Z]*$/)]}getLastNameValidators(){return[i.q.required,i.q.minLength(this.LAST_NAME_MIN_LENGTH),i.q.pattern(/^[a-zA-Z]*$/)]}getMiddleNameValidators(){return[i.q.required,i.q.minLength(this.MIDDLE_NAME_MIN_LENGTH),i.q.pattern(/^[a-zA-Z]*$/)]}getEmailValidators(){return[i.q.required,i.q.email]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},iX3p:function(t,e,n){"use strict";n.r(e),n.d(e,"OfferOrganizationsModule",(function(){return S}));var i=n("ofXK"),r=n("tyNb"),s=n("mrSG"),o=n("fXoL"),c=n("9mEo"),a=n("3Pt+"),u=n("fzKE"),l=n("0jaQ"),b=n("wmAJ");function d(t,e){if(1&t&&(o.Sb(0,"li"),o.vc(1),o.Rb()),2&t){const t=e.$implicit;o.Bb(1),o.xc(" ",t.ownerUsername," ")}}function f(t,e){if(1&t&&(o.Sb(0,"ul"),o.tc(1,d,2,1,"li",2),o.Rb()),2&t){const t=o.cc();o.Bb(1),o.fc("ngForOf",t.userRequests)}}function g(t,e){1&t&&(o.Sb(0,"label"),o.vc(1,"Nothing requests"),o.Rb())}function h(t,e){if(1&t){const t=o.Tb();o.Sb(0,"li"),o.Sb(1,"button",3),o.ac("click",(function(){o.nc(t);const n=e.$implicit;return o.cc(2).setCurrent(n)})),o.vc(2),o.Rb(),o.Rb()}if(2&t){const t=e.$implicit;o.Bb(2),o.xc(" ",t.ownerUsername," ")}}function m(t,e){if(1&t&&(o.Sb(0,"ul"),o.tc(1,h,3,1,"li",2),o.Rb()),2&t){const t=o.cc();o.Bb(1),o.fc("ngForOf",t.organizationRequests)}}function p(t,e){1&t&&(o.Sb(0,"label"),o.vc(1,"Nothing requests"),o.Rb())}function v(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",4),o.Sb(1,"div",5),o.Sb(2,"div",6),o.Sb(3,"div",7),o.Sb(4,"h5",8),o.vc(5,"Do you want to approve this request?"),o.Rb(),o.Rb(),o.Sb(6,"div",9),o.Sb(7,"p"),o.vc(8),o.Rb(),o.Rb(),o.Sb(9,"div",10),o.Sb(10,"button",11),o.ac("click",(function(){o.nc(t);const e=o.cc();return e.sendAnswer(!1,null==e.current?null:e.current.id)})),o.vc(11," No "),o.Rb(),o.Sb(12,"button",12),o.ac("click",(function(){o.nc(t);const e=o.cc();return e.sendAnswer(!0,null==e.current?null:e.current.id)})),o.vc(13,"Yes"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb()}if(2&t){const t=o.cc();o.Bb(8),o.xc(" ",null==t.current?null:t.current.ownerUsername," ")}}const R=[{path:"",component:(()=>{class t{constructor(t,e,n,i,r){this.service=t,this.fb=e,this.utilService=n,this.tokenStorageService=i,this.organizationService=r}ngOnInit(){return Object(s.a)(this,void 0,void 0,(function*(){yield this.getRequests()}))}ngOnDestroy(){this.utilService.unsubscribe(this.getSubscription)}sendAnswer(t,e){return Object(s.a)(this,void 0,void 0,(function*(){this.utilService.unsubscribe(this.answerSubscription),this.answerSubscription=this.organizationService.answerOffer({offerId:e,answer:t}).subscribe(()=>Object(s.a)(this,void 0,void 0,(function*(){this.getRequests()})))}))}getRequests(){return Object(s.a)(this,void 0,void 0,(function*(){this.utilService.unsubscribe(this.getSubscription),this.getSubscription=this.service.getOrganizationsOffers(this.tokenStorageService.getUsername()).subscribe(t=>Object(s.a)(this,void 0,void 0,(function*(){this.userRequests=t.userRequests,this.organizationRequests=t.organizationRequests})))}))}setCurrent(t){this.current=t}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(c.a),o.Mb(a.c),o.Mb(u.a),o.Mb(l.a),o.Mb(b.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-offer-organizations"]],decls:9,vars:5,consts:[[4,"ngIf"],["class","modal fade","id","exampleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngIf"],[4,"ngFor","ngForOf"],["type","button","data-toggle","modal","data-target","#exampleModal",1,"btn","btn-primary",3,"click"],["id","exampleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(o.Sb(0,"label"),o.vc(1," My Requests:\n"),o.Rb(),o.tc(2,f,2,1,"ul",0),o.tc(3,g,2,0,"label",0),o.Sb(4,"label"),o.vc(5," Organization's Requests:\n"),o.Rb(),o.tc(6,m,2,1,"ul",0),o.tc(7,p,2,0,"label",0),o.tc(8,v,14,1,"div",1)),2&t&&(o.Bb(2),o.fc("ngIf",(null==e.userRequests?null:e.userRequests.length)>0),o.Bb(1),o.fc("ngIf",!e.userRequests||0==(null==e.userRequests?null:e.userRequests.length)),o.Bb(3),o.fc("ngIf",(null==e.organizationRequests?null:e.organizationRequests.length)>0),o.Bb(1),o.fc("ngIf",!e.organizationRequests||0==(null==e.organizationRequests?null:e.organizationRequests.length)),o.Bb(1),o.fc("ngIf",e.current))},directives:[i.j,i.i],styles:[""]}),t})()}];let q=(()=>{class t{}return t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({factory:function(e){return new(e||t)},imports:[[r.e.forChild(R)],r.e]}),t})(),S=(()=>{class t{}return t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({factory:function(e){return new(e||t)},imports:[[i.b,q,a.m]]}),t})()},mrSG:function(t,e,n){"use strict";function i(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{a(i.next(t))}catch(e){s(e)}}function c(t){try{a(i.throw(t))}catch(e){s(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,c)}a((i=i.apply(t,e||[])).next())}))}n.d(e,"a",(function(){return i}))}}]);