(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{NoKh:function(t,i,e){"use strict";e.r(i),e.d(i,"OrganizationMemberInfoModule",(function(){return v}));var n=e("ofXK"),o=e("tyNb"),r=e("mrSG"),a=e("vkgz"),s=e("5+tZ"),c=e("fXoL"),b=e("wmAJ"),l=e("fzKE"),u=e("3Pt+"),p=e("JqCM");function m(t,i){if(1&t){const t=c.Tb();c.Sb(0,"label",6),c.ac("click",(function(){c.nc(t);const e=i.$implicit;return c.cc(2).removeRole(e.id)})),c.vc(1),c.Rb()}if(2&t){const t=i.$implicit;c.Bb(1),c.xc(" ",t.name," ")}}function d(t,i){if(1&t&&(c.Sb(0,"div"),c.tc(1,m,2,1,"label",5),c.Rb()),2&t){const t=c.cc();c.Bb(1),c.fc("ngForOf",null==t.organizationMember?null:t.organizationMember.roles)}}function g(t,i){if(1&t&&(c.Sb(0,"option",7),c.vc(1),c.Rb()),2&t){const t=i.$implicit;c.fc("ngValue",t.id-0),c.Bb(1),c.xc(" ",t.name," ")}}const h=[{path:"",component:(()=>{class t{constructor(t,i,e,n,o){this.organizationService=t,this.properties=i,this.fb=e,this.spinner=n,this.activatedRoute=o,this.addRolesForm=this.fb.group({role:[]})}ngOnInit(){return Object(r.a)(this,void 0,void 0,(function*(){this.getData()}))}getData(){return Object(r.a)(this,void 0,void 0,(function*(){yield this.spinner.show(),this.properties.unsubscribe(this.getSubscription),this.getSubscription=this.activatedRoute.parent.parent.parent.parent.params.pipe(Object(a.a)(t=>this.organizationId=t.organizationId),Object(s.a)(t=>this.activatedRoute.params)).pipe(Object(a.a)(t=>this.memberId=t.memberId),Object(s.a)(t=>this.organizationService.getOrganizationMember(this.organizationId,this.memberId))).pipe(Object(a.a)(t=>this.organizationMember=t),Object(s.a)(t=>this.organizationService.getOrganizationRoles(this.organizationId))).subscribe(t=>Object(r.a)(this,void 0,void 0,(function*(){this.allRoles=t,this.spinner.hide()})))}))}ngOnDestroy(){this.properties.unsubscribe(this.getSubscription)}onSubmit(){this.organizationService.addRole(this.organizationId,this.memberId,this.addRolesForm.value).subscribe(()=>this.getData())}removeRole(t){this.organizationService.deleteRole(this.organizationId,this.memberId,t).subscribe(()=>this.getData())}}return t.\u0275fac=function(i){return new(i||t)(c.Mb(b.a),c.Mb(l.a),c.Mb(u.c),c.Mb(p.c),c.Mb(o.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-organization-member-info"]],decls:10,vars:3,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],["formControlName","role",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],["size","large","type","submit"],["style","width: 90px;",3,"click",4,"ngFor","ngForOf"],[2,"width","90px",3,"click"],[3,"ngValue"]],template:function(t,i){1&t&&(c.Nb(0,"ngx-spinner"),c.tc(1,d,2,1,"div",0),c.Sb(2,"form",1),c.ac("ngSubmit",(function(){return i.onSubmit()})),c.Sb(3,"label"),c.vc(4,"Role"),c.Rb(),c.Sb(5,"select",2),c.tc(6,g,2,2,"option",3),c.Rb(),c.Sb(7,"div"),c.Sb(8,"button",4),c.vc(9," Add role "),c.Rb(),c.Rb(),c.Rb()),2&t&&(c.Bb(1),c.fc("ngIf",i.organizationMember),c.Bb(1),c.fc("formGroup",i.addRolesForm),c.Bb(4),c.fc("ngForOf",i.allRoles))},directives:[p.a,n.j,u.s,u.k,u.g,u.o,u.j,u.e,n.i,u.l,u.r],styles:[""]}),t})()}];let f=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(i){return new(i||t)},imports:[[o.e.forChild(h)],o.e]}),t})(),v=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(i){return new(i||t)},imports:[[n.b,f,u.m,p.b]]}),t})()}}]);