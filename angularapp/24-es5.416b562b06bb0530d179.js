function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,i,n){return i&&_defineProperties(e.prototype,i),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{Q4qn:function(e,i,n){"use strict";n.r(i),n.d(i,"OrganizationsDocumentsModule",(function(){return z}));var t=n("ofXK"),r=n("tyNb"),s=n("mrSG"),o=n("tk/3"),c=n("lJxs"),a=n("vkgz"),u=n("5+tZ"),b=n("fXoL"),l=n("wmAJ"),f=n("zB+k"),p=n("0jaQ"),d=n("fzKE"),g=n("JqCM"),h=function(e){return{width:e}};function v(e,i){if(1&e&&(b.Sb(0,"div",5),b.Sb(1,"div",6),b.vc(2),b.Rb(),b.Rb()),2&e){var n=b.cc();b.Bb(1),b.fc("ngStyle",b.ic(3,h,n.progress+"%")),b.Cb("aria-valuenow",n.progress),b.Bb(1),b.xc(" ",n.progress,"% ")}}var m=function(e){return["/documents",e]};function S(e,i){if(1&e&&(b.Sb(0,"li",12),b.Sb(1,"a",13),b.vc(2),b.Rb(),b.Rb()),2&e){var n=i.$implicit;b.Bb(1),b.fc("routerLink",b.ic(2,m,n.id)),b.Bb(1),b.wc(n.name)}}function R(e,i){if(1&e&&(b.Sb(0,"li"),b.Sb(1,"a",13),b.vc(2),b.Rb(),b.Rb()),2&e){var n=i.$implicit;b.Bb(1),b.fc("routerLink",b.ic(2,m,n.id)),b.Bb(1),b.wc(n.name)}}function w(e,i){if(1&e&&(b.Sb(0,"li"),b.Sb(1,"a",13),b.vc(2),b.Rb(),b.Rb()),2&e){var n=i.$implicit;b.Bb(1),b.fc("routerLink",b.ic(2,m,n.id)),b.Bb(1),b.wc(n.name)}}function k(e,i){if(1&e&&(b.Sb(0,"li"),b.Sb(1,"a",13),b.vc(2),b.Rb(),b.Rb()),2&e){var n=i.$implicit;b.Bb(1),b.fc("routerLink",b.ic(2,m,n.id)),b.Bb(1),b.wc(n.name)}}function I(e,i){if(1&e&&(b.Sb(0,"li"),b.Sb(1,"a",13),b.vc(2),b.Rb(),b.Rb()),2&e){var n=i.$implicit;b.Bb(1),b.fc("routerLink",b.ic(2,m,n.id)),b.Bb(1),b.wc(n.name)}}function y(e,i){if(1&e&&(b.Sb(0,"div",7),b.Sb(1,"div",8),b.Sb(2,"div",9),b.vc(3," Heap "),b.Nb(4,"br"),b.Sb(5,"ul"),b.tc(6,S,3,4,"li",10),b.Rb(),b.Rb(),b.Sb(7,"div",9),b.vc(8," Waiting "),b.Nb(9,"br"),b.Sb(10,"ul"),b.tc(11,R,3,4,"li",11),b.Rb(),b.Rb(),b.Sb(12,"div",9),b.vc(13," In Progress "),b.Nb(14,"br"),b.Sb(15,"ul"),b.tc(16,w,3,4,"li",11),b.Rb(),b.Rb(),b.Sb(17,"div",9),b.vc(18," Join To Me "),b.Nb(19,"br"),b.Sb(20,"ul"),b.tc(21,k,3,4,"li",11),b.Rb(),b.Rb(),b.Sb(22,"div",9),b.vc(23," Answered "),b.Nb(24,"br"),b.Sb(25,"ul"),b.tc(26,I,3,4,"li",11),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.cc();b.Bb(6),b.fc("ngForOf",null==n.filesInfo?null:n.filesInfo.heapDocuments),b.Bb(5),b.fc("ngForOf",null==n.filesInfo?null:n.filesInfo.waitingDocuments),b.Bb(5),b.fc("ngForOf",null==n.filesInfo?null:n.filesInfo.progressDocuments),b.Bb(5),b.fc("ngForOf",null==n.filesInfo?null:n.filesInfo.joinToMeDocuments),b.Bb(5),b.fc("ngForOf",null==n.filesInfo?null:n.filesInfo.answeredDocuments)}}var F,B,O,C,j=[{path:"",component:(F=function(){function e(i,n,t,r,s,o){_classCallCheck(this,e),this.organizationService=i,this.activatedRoute=n,this.documentsService=t,this.tokenStorageService=r,this.properties=s,this.spinner=o,this.uploadInProgress=!1,this.progress=0,this.message=""}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.userId=this.tokenStorageService.getId(),this.getFiles();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"selectFile",value:function(e){this.selectedFiles=e.target.files}},{key:"upload",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.spinner.show(),this.progress=0,this.uploadInProgress=!0,this.currentFile=this.selectedFiles.item(0),this.properties.unsubscribe(this.uploadSubscription),this.uploadSubscription=this.documentsService.upload(this.currentFile,this.organizationId,this.userId).subscribe((function(e){e.type===o.d.UploadProgress?i.progress=Math.round(100*e.loaded/e.total):e instanceof o.g&&(i.progress=0,i.uploadInProgress=!1,i.spinner.hide(),i.getFiles())}),(function(e){i.progress=0,i.uploadInProgress=!1,i.message="Could not upload the file!",i.currentFile=void 0,i.spinner.hide()})),this.selectedFiles=void 0;case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getFiles",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.spinner.show(),this.properties.unsubscribe(this.getFilesSubscription),this.getFilesSubscription=this.activatedRoute.parent.parent.parent.params.pipe(Object(c.a)((function(e){return e.organizationId})),Object(a.a)((function(e){return i.organizationId=e})),Object(u.a)((function(e){return i.documentsService.getMyOrganizationDocumentsInfo(e,i.userId)}))).subscribe((function(e){i.filesInfo=e,i.spinner.hide()}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnDestroy",value:function(){this.properties.unsubscribe(this.changeSubscription),this.properties.unsubscribe(this.getFilesSubscription),this.properties.unsubscribe(this.uploadSubscription),this.properties.unsubscribe(this.approveDenySubscription)}}]),e}(),F.\u0275fac=function(e){return new(e||F)(b.Mb(l.a),b.Mb(r.a),b.Mb(f.a),b.Mb(p.a),b.Mb(d.a),b.Mb(g.c))},F.\u0275cmp=b.Gb({type:F,selectors:[["app-organizations-documents"]],decls:8,vars:3,consts:[["class","progress",4,"ngIf"],[1,"btn","btn-default"],["type","file",3,"change"],[1,"btn","btn-success",3,"disabled","click"],["class","container",4,"ngIf"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info","progress-bar-striped",3,"ngStyle"],[1,"container"],[1,"row"],[1,"col-sm"],["class","",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,""],[3,"routerLink"]],template:function(e,i){1&e&&(b.Nb(0,"ngx-spinner"),b.Nb(1,"router-outlet"),b.tc(2,v,3,5,"div",0),b.Sb(3,"label",1),b.Sb(4,"input",2),b.ac("change",(function(e){return i.selectFile(e)})),b.Rb(),b.Rb(),b.Sb(5,"button",3),b.ac("click",(function(){return i.upload()})),b.vc(6," Upload\n"),b.Rb(),b.tc(7,y,27,5,"div",4)),2&e&&(b.Bb(2),b.fc("ngIf",i.currentFile),b.Bb(3),b.fc("disabled",!i.selectedFiles),b.Bb(2),b.fc("ngIf",i.filesInfo))},directives:[g.a,r.f,t.j,t.k,t.i,r.d],styles:["ul[_ngcontent-%COMP%]{-webkit-padding-start:0;padding-inline-start:0;list-style-type:none}"]}),F)}],M=((B=function e(){_classCallCheck(this,e)}).\u0275mod=b.Kb({type:B}),B.\u0275inj=b.Jb({factory:function(e){return new(e||B)},imports:[[r.e.forChild(j)],r.e]}),B),P=n("3Pt+"),_=((C=function e(){_classCallCheck(this,e)}).\u0275mod=b.Kb({type:C}),C.\u0275inj=b.Jb({factory:function(e){return new(e||C)},imports:[[t.b]]}),C),z=((O=function e(){_classCallCheck(this,e)}).\u0275mod=b.Kb({type:O}),O.\u0275inj=b.Jb({factory:function(e){return new(e||O)},imports:[[t.b,M,P.m,_,g.b]]}),O)}}]);