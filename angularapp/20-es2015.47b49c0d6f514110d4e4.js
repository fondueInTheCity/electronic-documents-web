(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{oSvz:function(e,t,i){"use strict";i.r(t),i.d(t,"OrganizationRequestsModule",(function(){return z}));var n=i("ofXK"),s=i("tyNb"),r=i("mrSG"),o=i("lJxs"),a=i("vkgz"),c=i("5+tZ"),b=i("fXoL"),u=i("wmAJ"),l=i("fzKE"),d=i("JqCM"),p=i("3Pt+");function f(e,t){if(1&e){const e=b.Tb();b.Sb(0,"li",15),b.ac("click",(function(){b.nc(e);const i=t.$implicit;return b.cc(2).setCurrent(i)})),b.vc(1),b.Rb()}if(2&e){const e=t.$implicit;b.Bb(1),b.xc(" ",e.ownerUsername," ")}}function g(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"ol"),b.tc(2,f,2,1,"li",14),b.Rb(),b.Rb()),2&e){const e=b.cc();b.Bb(2),b.fc("ngForOf",e.userRequests)}}function h(e,t){1&e&&(b.Sb(0,"label"),b.vc(1,"Nothing requests"),b.Rb())}function R(e,t){if(1&e){const e=b.Tb();b.Sb(0,"li",17),b.ac("click",(function(){b.nc(e);const i=t.$implicit;return b.cc(2).setCurrent(i)})),b.vc(1),b.Rb()}if(2&e){const e=t.$implicit;b.Bb(1),b.wc(e.ownerUsername)}}function m(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"ol"),b.tc(2,R,2,1,"li",16),b.Rb(),b.Rb()),2&e){const e=b.cc();b.Bb(2),b.fc("ngForOf",e.organizationRequests)}}function v(e,t){1&e&&(b.Sb(0,"label"),b.vc(1,"Nothing requests"),b.Rb())}function S(e,t){if(1&e){const e=b.Tb();b.Sb(0,"div",18),b.Sb(1,"div",3),b.Sb(2,"div",4),b.Sb(3,"div",5),b.Sb(4,"h5",6),b.vc(5,"Do you want approve user's request?"),b.Rb(),b.Rb(),b.Sb(6,"div",8),b.vc(7),b.Rb(),b.Sb(8,"div",10),b.Sb(9,"button",19),b.ac("click",(function(){b.nc(e);const t=b.cc();return t.sendAnswer(!1,null==t.current?null:t.current.id)})),b.vc(10," No "),b.Rb(),b.Sb(11,"button",20),b.ac("click",(function(){b.nc(e);const t=b.cc();return t.sendAnswer(!0,null==t.current?null:t.current.id)})),b.vc(12," Yes "),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()}if(2&e){const e=b.cc();b.Bb(7),b.xc(" ",e.current.ownerUsername," ")}}const q=[{path:"",component:(()=>{class e{constructor(e,t,i,n,s){this.organizationService=e,this.properties=t,this.spinner=i,this.activatedRoute=n,this.fb=s,this.createForm=this.fb.group({username:[]})}ngOnInit(){return Object(r.a)(this,void 0,void 0,(function*(){this.getRequests()}))}sendAnswer(e,t){return Object(r.a)(this,void 0,void 0,(function*(){this.spinner.show(),this.properties.unsubscribe(this.answerSubscription),this.answerSubscription=this.organizationService.answerOffer({offerId:t,answer:e}).subscribe(()=>Object(r.a)(this,void 0,void 0,(function*(){this.spinner.hide(),this.getRequests()})))}))}getRequests(){return Object(r.a)(this,void 0,void 0,(function*(){this.spinner.show(),this.properties.unsubscribe(this.getSubscription),this.getSubscription=this.activatedRoute.parent.parent.parent.params.pipe(Object(o.a)(e=>e.organizationId),Object(a.a)(e=>this.organizationId=e),Object(c.a)(e=>this.organizationService.getOrganizationOffers(e))).subscribe(e=>Object(r.a)(this,void 0,void 0,(function*(){this.userRequests=e.userRequests,this.organizationRequests=e.organizationRequests,this.spinner.hide()})))}))}setCurrent(e){this.current=e}onSubmit(){this.properties.unsubscribe(this.createSubscription),this.spinner.show(),this.createSubscription=this.organizationService.createOrganizationRequest({username:this.createForm.value.username,organizationId:this.organizationId}).subscribe(e=>{this.spinner.hide(),this.getRequests()})}ngOnDestroy(){this.properties.unsubscribe(this.createSubscription),this.properties.unsubscribe(this.getSubscription),this.properties.unsubscribe(this.answerSubscription)}}return e.\u0275fac=function(t){return new(t||e)(b.Mb(u.a),b.Mb(l.a),b.Mb(d.c),b.Mb(s.a),b.Mb(p.c))},e.\u0275cmp=b.Gb({type:e,selectors:[["app-organization-requests"]],decls:27,vars:6,consts:[[4,"ngIf"],["type","button","data-toggle","modal","data-target","#createRequest","size","large",1,"btn","btn-primary"],["id","createRequest","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[3,"formGroup"],[1,"modal-body"],["type","text","formControlName","username","placeholder","Username","required","","autofocus",""],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","submit","data-dismiss","modal",1,"btn","btn-primary",3,"click"],["class","modal fade","id","answeredRequest","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngIf"],["data-toggle","modal","data-target","#answeredRequest",3,"click",4,"ngFor","ngForOf"],["data-toggle","modal","data-target","#answeredRequest",3,"click"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["id","answeredRequest","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(b.Nb(0,"ngx-spinner"),b.Sb(1,"label"),b.vc(2," Users' Requests:\n"),b.Rb(),b.tc(3,g,3,1,"div",0),b.tc(4,h,2,0,"label",0),b.Sb(5,"div"),b.Sb(6,"button",1),b.vc(7," Create Organization Request "),b.Rb(),b.Rb(),b.Sb(8,"label"),b.vc(9," Organization's Requests:\n"),b.Rb(),b.tc(10,m,3,1,"div",0),b.tc(11,v,2,0,"label",0),b.Sb(12,"div",2),b.Sb(13,"div",3),b.Sb(14,"div",4),b.Sb(15,"div",5),b.Sb(16,"h5",6),b.vc(17,"Create request to user."),b.Rb(),b.Rb(),b.Sb(18,"form",7),b.Sb(19,"div",8),b.Nb(20,"input",9),b.Rb(),b.Sb(21,"div",10),b.Sb(22,"button",11),b.vc(23,"No"),b.Rb(),b.Sb(24,"button",12),b.ac("click",(function(){return t.onSubmit()})),b.vc(25,"Yes"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.tc(26,S,13,1,"div",13)),2&e&&(b.Bb(3),b.fc("ngIf",(null==t.userRequests?null:t.userRequests.length)>0),b.Bb(1),b.fc("ngIf",!t.userRequests||0==(null==t.userRequests?null:t.userRequests.length)),b.Bb(6),b.fc("ngIf",(null==t.organizationRequests?null:t.organizationRequests.length)>0),b.Bb(1),b.fc("ngIf",!t.organizationRequests||0==(null==t.organizationRequests?null:t.organizationRequests.length)),b.Bb(7),b.fc("formGroup",t.createForm),b.Bb(8),b.fc("ngIf",t.current))},directives:[d.a,n.j,p.s,p.k,p.g,p.a,p.j,p.e,p.n,n.i],styles:[""]}),e})()}];let w=(()=>{class e{}return e.\u0275mod=b.Kb({type:e}),e.\u0275inj=b.Jb({factory:function(t){return new(t||e)},imports:[[s.e.forChild(q)],s.e]}),e})(),z=(()=>{class e{}return e.\u0275mod=b.Kb({type:e}),e.\u0275inj=b.Jb({factory:function(t){return new(t||e)},imports:[[n.b,w,d.b,p.m]]}),e})()}}]);