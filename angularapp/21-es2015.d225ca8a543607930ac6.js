(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"5r6I":function(e,i,t){"use strict";t.r(i),t.d(i,"OrganizationRolesModule",(function(){return S}));var o=t("ofXK"),n=t("tyNb"),a=t("mrSG"),r=t("lJxs"),b=t("vkgz"),c=t("5+tZ"),s=t("fXoL"),l=t("wmAJ"),d=t("fzKE"),u=t("JqCM"),p=t("3Pt+");function m(e,i){if(1&e){const e=s.Tb();s.Sb(0,"li"),s.vc(1),s.Sb(2,"span",5),s.ac("click",(function(){s.nc(e);const t=i.$implicit;return s.cc().setCurrentRename(t)})),s.vc(3,"edit"),s.Rb(),s.Sb(4,"span",6),s.ac("click",(function(){s.nc(e);const t=i.$implicit;return s.cc().setCurrent(t)})),s.vc(5,"delete"),s.Rb(),s.Rb()}if(2&e){const e=i.$implicit;s.Bb(1),s.xc(" ",e.name," ")}}function h(e,i){if(1&e){const e=s.Tb();s.Sb(0,"div",7),s.Sb(1,"div",8),s.Sb(2,"div",9),s.Sb(3,"div",10),s.Sb(4,"h5",11),s.vc(5,"Do you want approve ?"),s.Rb(),s.Rb(),s.Sb(6,"div",12),s.vc(7," Delete role. "),s.Rb(),s.Sb(8,"div",13),s.Sb(9,"button",14),s.vc(10," No "),s.Rb(),s.Sb(11,"button",15),s.ac("click",(function(){s.nc(e);const i=s.cc();return i.deleteOrganizationRole(null==i.current?null:i.current.id)})),s.vc(12," Yes "),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}}function R(e,i){if(1&e){const e=s.Tb();s.Sb(0,"div",16),s.Sb(1,"div",8),s.Sb(2,"div",9),s.Sb(3,"div",10),s.Sb(4,"h5",11),s.vc(5,"Do you want approve ?"),s.Rb(),s.Rb(),s.Sb(6,"div",12),s.Sb(7,"form",17),s.Sb(8,"div",18),s.Sb(9,"label"),s.vc(10," Organization Role Name "),s.Nb(11,"input",19),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(12,"div",13),s.Sb(13,"button",14),s.vc(14," Cancel "),s.Rb(),s.Sb(15,"button",15),s.ac("click",(function(){return s.nc(e),s.cc().renameOrganizationRole()})),s.vc(16," Rename "),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&e){const e=s.cc();s.Bb(7),s.fc("formGroup",e.renameRoleForm)}}function f(e,i){if(1&e){const e=s.Tb();s.Sb(0,"div",20),s.Sb(1,"div",8),s.Sb(2,"div",9),s.Sb(3,"div",10),s.Sb(4,"h5",11),s.vc(5,"Do you want approve ?"),s.Rb(),s.Rb(),s.Sb(6,"div",12),s.Sb(7,"form",17),s.Sb(8,"div",18),s.Sb(9,"label"),s.vc(10," Organization Role Name "),s.Nb(11,"input",21),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(12,"div",13),s.Sb(13,"button",14),s.vc(14," Cancel "),s.Rb(),s.Sb(15,"button",15),s.ac("click",(function(){return s.nc(e),s.cc().createNewRole()})),s.vc(16," Create "),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&e){const e=s.cc();s.Bb(7),s.fc("formGroup",e.createNewRoleForm)}}const v=[{path:"",component:(()=>{class e{constructor(e,i,t,o,n){this.organizationService=e,this.properties=i,this.spinner=t,this.activatedRoute=o,this.fb=n}ngOnInit(){return Object(a.a)(this,void 0,void 0,(function*(){this.loadOrganizationRoles()}))}loadOrganizationRoles(){return Object(a.a)(this,void 0,void 0,(function*(){this.spinner.show(),this.properties.unsubscribe(this.getSubscription),this.getSubscription=this.activatedRoute.parent.parent.parent.parent.params.pipe(Object(r.a)(e=>e.organizationId),Object(b.a)(e=>this.organizationId=e),Object(c.a)(e=>this.organizationService.getOrganizationRoles(e))).subscribe(e=>Object(a.a)(this,void 0,void 0,(function*(){this.organizationRoles=e,this.createNewRoleForm=this.fb.group({organizationId:[this.organizationId],name:[]}),this.spinner.hide()})))}))}deleteOrganizationRole(e){return Object(a.a)(this,void 0,void 0,(function*(){this.spinner.show(),this.properties.unsubscribe(this.deleteSubscription),this.deleteSubscription=this.organizationService.deleteOrganizationRole(e).subscribe(()=>Object(a.a)(this,void 0,void 0,(function*(){this.loadOrganizationRoles(),this.spinner.hide()})))}))}renameOrganizationRole(){return Object(a.a)(this,void 0,void 0,(function*(){this.spinner.show(),this.properties.unsubscribe(this.renameSubscription),this.renameSubscription=this.organizationService.renameOrganizationRole(this.renameRoleForm.value).subscribe(()=>Object(a.a)(this,void 0,void 0,(function*(){this.loadOrganizationRoles(),this.spinner.hide()})))}))}ngOnDestroy(){this.properties.unsubscribe(this.getSubscription),this.properties.unsubscribe(this.createSubscription),this.properties.unsubscribe(this.deleteSubscription),this.properties.unsubscribe(this.renameSubscription)}setCurrent(e){this.current=e}setCurrentRename(e){this.current=e,this.renameRoleForm=this.fb.group({id:[e.id],newName:[e.name]})}createNewRole(){this.spinner.show(),this.properties.unsubscribe(this.createSubscription),this.createSubscription=this.organizationService.createOrganizationRole(this.createNewRoleForm.value).subscribe(()=>{this.spinner.hide(),this.loadOrganizationRoles()})}}return e.\u0275fac=function(i){return new(i||e)(s.Mb(l.a),s.Mb(d.a),s.Mb(u.c),s.Mb(n.a),s.Mb(p.c))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-organization-roles"]],decls:8,vars:4,consts:[[4,"ngFor","ngForOf"],["data-toggle","modal","data-target","#createNewRole"],["class","modal fade","id","deleteRoleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade","id","renameRoleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade","id","createNewRole","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngIf"],["data-toggle","modal","data-target","#renameRoleModal",3,"click"],["data-toggle","modal","data-target","#deleteRoleModal",3,"click"],["id","deleteRoleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","renameRoleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[3,"formGroup"],[1,"form-group"],["type","text","formControlName","newName","required","","autofocus","",1,"form-control"],["id","createNewRole","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","text","formControlName","name","required","","autofocus","",1,"form-control"]],template:function(e,i){1&e&&(s.Nb(0,"ngx-spinner"),s.Sb(1,"ol"),s.tc(2,m,6,1,"li",0),s.Rb(),s.Sb(3,"button",1),s.vc(4,"New Role"),s.Rb(),s.tc(5,h,13,0,"div",2),s.tc(6,R,17,1,"div",3),s.tc(7,f,17,1,"div",4)),2&e&&(s.Bb(2),s.fc("ngForOf",i.organizationRoles),s.Bb(3),s.fc("ngIf",i.current),s.Bb(1),s.fc("ngIf",i.renameRoleForm),s.Bb(1),s.fc("ngIf",i.createNewRoleForm))},directives:[u.a,o.i,o.j,p.s,p.k,p.g,p.a,p.j,p.e,p.n],styles:[""]}),e})()}];let g=(()=>{class e{}return e.\u0275mod=s.Kb({type:e}),e.\u0275inj=s.Jb({factory:function(i){return new(i||e)},imports:[[n.e.forChild(v)],n.e]}),e})(),S=(()=>{class e{}return e.\u0275mod=s.Kb({type:e}),e.\u0275inj=s.Jb({factory:function(i){return new(i||e)},imports:[[o.b,g,p.m,u.b]]}),e})()}}]);