function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{NoKh:function(e,t,n){"use strict";n.r(t),n.d(t,"OrganizationMemberInfoModule",(function(){return z}));var i=n("ofXK"),r=n("tyNb"),o=n("mrSG"),a=n("vkgz"),c=n("5+tZ"),s=n("fXoL"),u=n("wmAJ"),b=n("fzKE"),f=n("3Pt+"),l=n("JqCM");function p(e,t){if(1&e){var n=s.Tb();s.Sb(0,"label",6),s.ac("click",(function(){s.nc(n);var e=t.$implicit;return s.cc(2).removeRole(e.id)})),s.vc(1),s.Rb()}if(2&e){var i=t.$implicit;s.Bb(1),s.xc(" ",i.name," ")}}function m(e,t){if(1&e&&(s.Sb(0,"div"),s.tc(1,p,2,1,"label",5),s.Rb()),2&e){var n=s.cc();s.Bb(1),s.fc("ngForOf",null==n.organizationMember?null:n.organizationMember.roles)}}function g(e,t){if(1&e&&(s.Sb(0,"option",7),s.vc(1),s.Rb()),2&e){var n=t.$implicit;s.fc("ngValue",n.id-0),s.Bb(1),s.xc(" ",n.name," ")}}var d,h,v,R=[{path:"",component:(d=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.organizationService=t,this.properties=n,this.fb=i,this.spinner=r,this.activatedRoute=o,this.addRolesForm=this.fb.group({role:[]})}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getData();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getData",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.spinner.show();case 2:this.properties.unsubscribe(this.getSubscription),this.getSubscription=this.activatedRoute.parent.parent.parent.parent.params.pipe(Object(a.a)((function(e){return t.organizationId=e.organizationId})),Object(c.a)((function(e){return t.activatedRoute.params}))).pipe(Object(a.a)((function(e){return t.memberId=e.memberId})),Object(c.a)((function(e){return t.organizationService.getOrganizationMember(t.organizationId,t.memberId)}))).pipe(Object(a.a)((function(e){return t.organizationMember=e})),Object(c.a)((function(e){return t.organizationService.getOrganizationRoles(t.organizationId)}))).subscribe((function(e){return Object(o.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.allRoles=e,this.spinner.hide();case 1:case"end":return t.stop()}}),t,this)})))}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnDestroy",value:function(){this.properties.unsubscribe(this.getSubscription)}},{key:"onSubmit",value:function(){var e=this;this.organizationService.addRole(this.organizationId,this.memberId,this.addRolesForm.value).subscribe((function(){return e.getData()}))}},{key:"removeRole",value:function(e){var t=this;this.organizationService.deleteRole(this.organizationId,this.memberId,e).subscribe((function(){return t.getData()}))}}]),e}(),d.\u0275fac=function(e){return new(e||d)(s.Mb(u.a),s.Mb(b.a),s.Mb(f.c),s.Mb(l.c),s.Mb(r.a))},d.\u0275cmp=s.Gb({type:d,selectors:[["app-organization-member-info"]],decls:10,vars:3,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],["formControlName","role",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],["size","large","type","submit"],["style","width: 90px;",3,"click",4,"ngFor","ngForOf"],[2,"width","90px",3,"click"],[3,"ngValue"]],template:function(e,t){1&e&&(s.Nb(0,"ngx-spinner"),s.tc(1,m,2,1,"div",0),s.Sb(2,"form",1),s.ac("ngSubmit",(function(){return t.onSubmit()})),s.Sb(3,"label"),s.vc(4,"Role"),s.Rb(),s.Sb(5,"select",2),s.tc(6,g,2,2,"option",3),s.Rb(),s.Sb(7,"div"),s.Sb(8,"button",4),s.vc(9," Add role "),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.Bb(1),s.fc("ngIf",t.organizationMember),s.Bb(1),s.fc("formGroup",t.addRolesForm),s.Bb(4),s.fc("ngForOf",t.allRoles))},directives:[l.a,i.j,f.s,f.k,f.g,f.o,f.j,f.e,i.i,f.l,f.r],styles:[""]}),d)}],w=((v=function e(){_classCallCheck(this,e)}).\u0275mod=s.Kb({type:v}),v.\u0275inj=s.Jb({factory:function(e){return new(e||v)},imports:[[r.e.forChild(R)],r.e]}),v),z=((h=function e(){_classCallCheck(this,e)}).\u0275mod=s.Kb({type:h}),h.\u0275inj=s.Jb({factory:function(e){return new(e||h)},imports:[[i.b,w,f.m,l.b]]}),h)}}]);